(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fc2db36"],{"0ff7":function(t,a,e){"use strict";e.r(a);e("b0c0"),e("99af");var n=function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",[a("el-form",{attrs:{model:t.form,inline:"",size:"mini"}},[a("el-form-item",{attrs:{label:"学期"}},[a("el-select",{on:{change:t.xqChange},model:{value:t.form.xqid,callback:function(a){t.$set(t.form,"xqid",a)},expression:"form.xqid"}},t._l(t.xqList,(function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.getStudentDocInfo}},[t._v(" 查询 ")]),t.tableData.hasOwnProperty("xm")?a("el-button",{attrs:{type:"success",icon:"el-icon-download",size:"mini"},on:{click:t.downloadStudentDoc}},[t._v(" 下载成绩汇报单 ")]):t._e(),a("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:!t.isGaosan,expression:"!isGaosan"}],staticStyle:{"margin-left":"10px"},model:{value:t.needAvgScore,callback:function(a){t.needAvgScore=a},expression:"needAvgScore"}},[t._v(" 是否显示附加分 ")])],1)],1),a("div",{staticClass:"table-doc"},[t.tableData.hasOwnProperty("xm")&&!t.isGaosan?a("table",{staticClass:"document-table"},[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:t.colspan}},[a("div",[t._v("上海市实验学校学生成绩汇报单")]),a("div",[t._v(t._s("".concat(t.tableData.termname)))]),a("div",[t._v(t._s("".concat(t.tableData.classname," - ").concat(t.tableData.xm)))])])])]),a("tbody",[t._l(t.tableData.subjectinfo,(function(e,n){return["核心课程"===e.kmmc||"学养课程"===e.kmmc?[a("tr",{key:n},[a("th",{attrs:{colspan:"2"===t.termflag?10:9}},[t._v(" "+t._s(e.kmmc)+" ")])]),a("tr",{key:"".concat(n,"key")},[a("th",[t._v("科目")]),a("th",[t._v("平时成绩")]),a("th",[t._v("期中成绩")]),t.needPaiming?a("th",[t._v("年级名次")]):t._e(),"dt"!==t.branch?a("th",[t._v("年级平均")]):t._e(),a("th",[t._v("期末成绩")]),t.needPaiming?a("th",[t._v("年级名次")]):t._e(),"dt"!==t.branch?a("th",[t._v("年级平均")]):t._e(),a("th",[t._v("学期总评")]),"2"===t.termflag?a("th",[t._v("学年总评")]):t._e()])]:t._e(),"2"!==e.kmlxid&&" "!==e.kmid?[a("tr",{key:"".concat(n,"tr")},[a("td",[t._v(t._s(e.kmmc))]),a("td",[t._v(t._s(e["平时成绩"]))]),a("td",[t._v(t._s(e["期中成绩"]))]),t.needPaiming?a("td",[t._v(t._s(e["期中成绩年级名次"]))]):t._e(),"dt"!==t.branch?a("td",[t._v(t._s(e["期中成绩平均分"]))]):t._e(),a("td",[t._v(t._s(e["期末成绩"]))]),t.needPaiming?a("td",[t._v(t._s(e["期末成绩年级名次"]))]):t._e(),"dt"!==t.branch?a("td",[t._v(t._s(e["期末成绩平均分"]))]):t._e(),a("td",[t._v(t._s(e["总评成绩"]))]),"2"===t.termflag?a("td",[t._v(t._s(e["学年总评成绩"]))]):t._e()])]:t._e(),"选课成绩"===e.kmmc?[a("tr",{key:n},[a("th",{attrs:{colspan:"8"}},[t._v(" "+t._s(e.kmmc)+" ")])]),a("tr",{key:"".concat(n,"key")},[a("th",[t._v("科目")]),a("th",{attrs:{colspan:"7"}},[t._v("成绩")])])]:t._e(),"2"===e.kmlxid?[a("tr",{key:"".concat(n,"tr")},[a("td",[t._v(t._s(e.kmmc))]),a("td",{attrs:{colspan:"7"}},[t._v(t._s(e.df))])])]:t._e()]})),a("tr",[a("td",[t._v("品德等第")]),a("td",{attrs:{colspan:t.colspan}},[t._v(" "+t._s(t.tableData.pddd)+" ")])]),a("tr",[a("td",{attrs:{colspan:t.colspan}},[a("div",[a("div",{staticStyle:{"text-align":"left","padding-left":"10px","padding-bottom":"6px"}},[t._v(" 班主任评语 ")]),null!==t.tableData.pingyu&&""!==t.tableData.pingyu?a("div",{staticStyle:{padding:"0 8px"}},t._l(t.tableData.pingyu,(function(e,n){return a("p",{key:"pingyu-".concat(n),staticClass:"duan",domProps:{textContent:t._s(e)}})})),0):a("div",{staticStyle:{height:"100px"}})])])])],2)]):a("table",{staticClass:"document-table"},[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"center"},attrs:{colspan:t.colspan}},[a("div",[t._v("上海市实验学校学生成绩汇报单")]),a("div",[t._v(t._s("".concat(t.tableData.termname)))]),a("div",[t._v(t._s("".concat(t.tableData.classname," - ").concat(t.tableData.xm)))])])])]),a("tbody",[t._l(t.tableData.subjectinfo,(function(e,n){return["高考课程"==e.kmmc?[a("tr",{key:"".concat(n,"1tr")},[a("td",{attrs:{colspan:t.colspan}},[t._v(t._s(t.tableData.subjectinfo[0].kmmc))])]),a("tr",{key:"".concat(n,"2tr")},[4==t.tableHeaderData.length?[a("td",[t._v("科目")]),t._l(t.tableHeaderData,(function(e,n){return[a("td",{key:"".concat(n,"1tr")},[t._v(t._s(e.ksmc))]),a("td",{key:"".concat(n,"2tr")},[t._v("年级名次")])]}))]:[a("td",[t._v("科目")]),a("td",[t._v(t._s(t.tableHeaderData[0]?t.tableHeaderData[0].ksmc:"第一次月考"))]),a("td",[t._v("年级名次")]),a("td",[t._v(t._s(t.tableHeaderData[1]?t.tableHeaderData[1].ksmc:"第二次月考"))]),a("td",[t._v("年级名次")]),a("td",[t._v(t._s(t.tableHeaderData[2]?t.tableHeaderData[2].ksmc:"第三次月考"))]),a("td",[t._v("年级名次")]),a("td",[t._v(t._s(t.tableHeaderData[3]?t.tableHeaderData[3].ksmc:"第四次月考"))]),a("td",[t._v("年级名次")])]],2)]:[a("tr",{directives:[{name:"show",rawName:"v-show",value:t.hasData(e),expression:"hasData(item)"}],key:"".concat(n,"tr")},[4==t.tableHeaderData.length?[a("td",[t._v(t._s(e.kmmc))]),t._l(t.tableHeaderData,(function(n,s){return[a("td",{key:"".concat(s,"1tr")},[t._v(t._s(e[t.tableHeaderData[s].ksmc]))]),a("td",{key:"".concat(s,"2tr")},[t._v(t._s(e[t.tableHeaderData[s].ksmc+"年级名次"]))])]}))]:[a("td",[t._v(t._s(e.kmmc))]),a("td",[t._v(t._s(t.tableHeaderData[0]?e[t.tableHeaderData[0].ksmc]:""))]),a("td",[t._v(t._s(t.tableHeaderData[0]?e[t.tableHeaderData[0].ksmc+"年级名次"]:""))]),a("td",[t._v(t._s(t.tableHeaderData[1]?e[t.tableHeaderData[1].ksmc]:""))]),a("td",[t._v(t._s(t.tableHeaderData[1]?e[t.tableHeaderData[1].ksmc+"年级名次"]:""))]),a("td",[t._v(t._s(t.tableHeaderData[2]?e[t.tableHeaderData[2].ksmc]:""))]),a("td",[t._v(t._s(t.tableHeaderData[2]?e[t.tableHeaderData[2].ksmc+"年级名次"]:""))]),a("td",[t._v(t._s(t.tableHeaderData[3]?e[t.tableHeaderData[3].ksmc]:""))]),a("td",[t._v(t._s(t.tableHeaderData[3]?e[t.tableHeaderData[3].ksmc+"年级名次"]:""))])]],2)]]})),a("tr",[a("td",{attrs:{colspan:t.colspan}},[t._v("其他课程")])]),a("tr",[a("td",{attrs:{colspan:t.colspan-6}},[t._v("科目")]),a("td",[t._v("平时成绩")]),a("td",[t._v("期中成绩")]),a("td",[t._v("年级平均")]),a("td",[t._v("期末成绩")]),a("td",[t._v("年级平均")]),a("td",[t._v("学期总评")])]),t._l(t.tableData.othersubjectinfo,(function(e,n){return a("tr",{key:n},[a("td",{attrs:{colspan:t.colspan-6}},[t._v(t._s(e.kmmc))]),a("td",[t._v(t._s(e["平时成绩"]))]),a("td",[t._v(t._s(e["期中成绩"]))]),a("td",[t._v(t._s(e["平时成绩平均分"]))]),a("td",[t._v(t._s(e["期末成绩"]))]),a("td",[t._v(t._s(e["期末成绩平均分"]))]),a("td",[t._v(t._s(e["总评成绩"]))])])})),a("tr",[a("td",{attrs:{colspan:t.colspan-6}},[t._v("品德等第")]),a("td",{attrs:{colspan:t.colspan-3}},[t._v(" "+t._s(t.tableData.pddd)+" ")])]),a("tr",[a("td",{attrs:{colspan:t.colspan}},[a("div",[a("div",{staticStyle:{"text-align":"left","padding-left":"10px","padding-bottom":"6px"}},[t._v(" 班主任评语 ")]),null!==t.tableData.pingyu&&""!==t.tableData.pingyu?a("div",{staticStyle:{padding:"0 8px"}},t._l(t.tableData.pingyu,(function(e,n){return a("p",{key:"pingyu-".concat(n),staticClass:"duan",domProps:{textContent:t._s(e)}})})),0):a("div",{staticStyle:{height:"100px"}})])])])],2)]),t._m(0),a("img",{attrs:{src:e("f343"),alt:"zhan"}})])],1)},s=[function(){var t=this,a=t._self._c;t._self._setupProxy;return a("div",{staticClass:"table-footer"},[a("span",{staticStyle:{"padding-right":"80px"}},[t._v("班主任签字")]),a("span",{staticStyle:{"padding-right":"100px"}},[t._v("学校盖章")]),a("span",[a("span",{staticStyle:{"padding-right":"50px"}},[t._v("年")]),a("span",{staticStyle:{"padding-right":"50px"}},[t._v("月")]),a("span",[t._v("日")])])])}],c=e("d4ec"),r=e("bee2"),i=e("262e"),d=e("2caf"),l=(e("d3b7"),e("159b"),e("9ab4")),o=e("60a3"),_=e("73ec"),v=e("857c"),m=e("91d1"),u=e("1652"),p=function(t){Object(i["a"])(e,t);var a=Object(d["a"])(e);function e(){var t;return Object(c["a"])(this,e),t=a.apply(this,arguments),t.form={xqid:""},t.xqList=[],t.termflag="1",t.tableData={},t.tableHeaderData={},t.needAvgScore=!1,t.needGaosan=!1,t.isGaosan=!1,t.needPaiming=!1,t}return Object(r["a"])(e,[{key:"colspan",get:function(){return this.isGaosan?9:"2"===this.termflag?this.needAvgScore?12:10:this.needAvgScore?11:9}},{key:"created",value:function(){var t=this;this.$api.commonApi.getDict(u["a"].authTerm).then((function(a){t.xqList=Object(_["f"])(a,"termname","xqid",!1),t.form.xqid=Object(_["g"])(t.xqList),t.xqChange()}))}},{key:"xqChange",value:function(){this.getStudentDocInfo()}},{key:"hasData",value:function(t){var a=["物理","化学","思想政治","历史"];if(a.indexOf(t.kmmc)<0)return!0;var e=!1;return this.tableHeaderData.forEach((function(a){t[a.ksmc]&&(e=!0)})),e}},{key:"getStudentDocInfoThree",value:function(){var t=this;this.$load.start();var a=JSON.parse(Object(v["a"])(m["c"].user)).userid,e=JSON.parse(Object(v["a"])(m["c"].user)).realname;this.$api.analysisApi.previewStudentDocThree({xqid:this.form.xqid,needAvgScore:this.needAvgScore?"1":"0",xsid:[a],xm:[e]}).then((function(a){t.$load.end();var e=a.termflag,n=a.status,s=a.message,c=a.data,r=a.ksList;if(t.termflag=e,"error"===n)return Object(_["i"])(s,n);t.tableData=c[0],t.tableData.pingyu=t.tableData.pingyu.split("\n"),t.tableHeaderData=r}))}},{key:"getStudentDocInfo",value:function(){var t=this;this.$load.start();var a=JSON.parse(Object(v["a"])(m["c"].user)).userid,e=JSON.parse(Object(v["a"])(m["c"].user)).realname;this.$api.analysisApi.previewStudentDoc({xqid:this.form.xqid,needAvgScore:this.needAvgScore?"1":"0",xsid:[a],xm:[e]}).then((function(a){if(t.$load.end(),a.data[0].classname.indexOf("高三")>-1)t.needGaosan=!0,t.isGaosan=!0,t.getStudentDocInfoThree();else{t.isGaosan=!1;var e=a.termflag,n=a.status,s=a.message,c=a.data;if(t.termflag=e,"error"===n)return Object(_["i"])(s,n);t.tableData=c[0],t.tableData.pingyu=t.tableData.pingyu.split("\n")}"16"===a.data[0].lastnjid?t.needPaiming=!0:t.needPaiming=!1})).catch((function(){return t.$load.end()}))}},{key:"downloadStudentDoc",value:function(){var t=this;this.$load.start();var a=JSON.parse(Object(v["a"])(m["c"].user)).realname,e=JSON.parse(Object(v["a"])(m["c"].user)).userid;this.$api.analysisApi.getDownStudentDocUrl({xqid:this.form.xqid,xsid:[e],xm:[a]}).then((function(a){var e=a.status,n=a.data,s=a.message,c=a.filename;e===t.$httpOk?t.$api.analysisApi.downStudentDoc(n,c):Object(_["i"])(s,e),t.$load.end()})).catch((function(){return t.$load.end()}))}}]),e}(o["d"]);p=Object(l["a"])([o["a"]],p);var b=p,f=b,h=(e("5aa8"),e("2877")),g=Object(h["a"])(f,n,s,!1,null,"7be0c800",null);a["default"]=g.exports},4478:function(t,a,e){},"5aa8":function(t,a,e){"use strict";e("4478")},f343:function(t,a,e){t.exports=e.p+"img/zhan.072aa0c3.png"}}]);